<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ben Blog</title>
  
  <subtitle>一个无聊的博客。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://smallbenxiong.github.io/"/>
  <updated>2019-12-20T01:54:51.873Z</updated>
  <id>https://smallbenxiong.github.io/</id>
  
  <author>
    <name>Ben</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Sqoop | Sqoop报错解决</title>
    <link href="https://smallbenxiong.github.io/2019/12/20/20191220-Sqoop%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3/"/>
    <id>https://smallbenxiong.github.io/2019/12/20/20191220-Sqoop%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3/</id>
    <published>2019-12-19T16:00:00.000Z</published>
    <updated>2019-12-20T01:54:51.873Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Sqoop-Sqoop报错解决"><a href="#Sqoop-Sqoop报错解决" class="headerlink" title="Sqoop | Sqoop报错解决"></a>Sqoop | Sqoop报错解决</h1><h2 id="Job-failed-as-tasks-failed"><a href="#Job-failed-as-tasks-failed" class="headerlink" title="Job failed as tasks failed."></a>Job failed as tasks failed.</h2><pre><code>19/12/20 06:43:56 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1576794672412_000119/12/20 06:43:58 INFO impl.YarnClientImpl: Submitted application application_1576794672412_000119/12/20 06:43:58 INFO mapreduce.Job: The url to track the job: http://bp01:8088/proxy/application_1576794672412_0001/19/12/20 06:43:58 INFO mapreduce.Job: Running job: job_1576794672412_000119/12/20 06:44:17 INFO mapreduce.Job: Job job_1576794672412_0001 running in uber mode : false19/12/20 06:44:17 INFO mapreduce.Job:  map 0% reduce 0%19/12/20 06:44:25 INFO mapreduce.Job:  map 100% reduce 0%19/12/20 06:44:27 INFO mapreduce.Job: Job job_1576794672412_0001 failed with state FAILED due to: Task failed   task_1576794672412_0001_m_000000Job failed as tasks failed. failedMaps:1 failedReduces:0</code></pre><p><strong>解决：<br>查看日志:/opt/hadoop/hadoop-2.7.6/logs/userlogs/application_1576794672412_0006/container_1576794672412_0006_01_000002</strong>   </p><pre><code>2019-12-20 07:12:27,425 WARN [main] org.apache.hadoop.mapred.YarnChild: Exception running child : java.io.IOException:   com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column  &apos;gender&apos; at row 1Caused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long   for column &apos;gender&apos; at row 1</code></pre><p><strong>！！ Data too long for column  ‘gender’ at row 1</strong></p><p>参考：<a href="https://blog.csdn.net/sunjinjuan/article/details/88854091" target="_blank" rel="noopener">sqoop从hive导出到mysql报错：failed with state FAILED due to: Task failed</a></p><hr><h2 id="Hive导入MySQL的数据全部出现在同一列"><a href="#Hive导入MySQL的数据全部出现在同一列" class="headerlink" title="Hive导入MySQL的数据全部出现在同一列"></a>Hive导入MySQL的数据全部出现在同一列</h2><pre><code>Hive数据+------------------------+------------------------+--+| interim_gender.gender  | interim_gender.amount  |+------------------------+------------------------+--+| 0                      | 33232                  || 1                      | 33215                  || 2                      | 33553                  |+------------------------+------------------------+--+</code></pre><p>导入：sqoop export –connect jdbc:mysql://192.168.43.122:3306/mall –username root –password *** –table gender –input-fields-terminated-by ‘\001’ –export-dir ‘/user/hive/warehouse/mall.db/interim_gender’ -m 1;</p><pre><code>MySQL数据+----------+---------+--+|  gender  | amount  |+----------+---------+--+| 1    33215  | NULL    || 2    33553  | NULL    || 0    33232  | NULL    |+----------+---------+--+</code></pre><p><strong>解决：<br>查看Hive数据格式</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ hadoop fs -cat &#x2F;user&#x2F;hive&#x2F;warehouse&#x2F;mall.db&#x2F;interim_gender&#x2F;000000_0</span><br><span class="line">033232</span><br><span class="line">133215</span><br><span class="line">233553</span><br></pre></td></tr></table></figure><p><strong>数据由Tab键分割,改为：<code>--fields-terminated-by &#39;\t&#39;</code> 即可。</strong></p><h2 id="佛系更新……"><a href="#佛系更新……" class="headerlink" title="佛系更新……"></a>佛系更新……</h2>]]></content>
    
    <summary type="html">
    
      Sqoop遇到的问题
    
    </summary>
    
    
      <category term="Hadoop" scheme="https://smallbenxiong.github.io/categories/Hadoop/"/>
    
    
      <category term="Sqoop" scheme="https://smallbenxiong.github.io/tags/Sqoop/"/>
    
      <category term="Hadoop" scheme="https://smallbenxiong.github.io/tags/Hadoop/"/>
    
      <category term="BigData" scheme="https://smallbenxiong.github.io/tags/BigData/"/>
    
      <category term="大数据" scheme="https://smallbenxiong.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://smallbenxiong.github.io/2019/12/15/hello-world/"/>
    <id>https://smallbenxiong.github.io/2019/12/15/hello-world/</id>
    <published>2019-12-14T16:00:00.000Z</published>
    <updated>2019-12-19T06:17:21.403Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><ul><li><strong>这是我的个人博客，主要用于记录自己的学习笔记，未申请百度、谷歌等搜索功能，只能通过域名访问。😁😁😁</strong>   </li><li><strong>如果转载了您的文章，我会进行标注，主要是方便自己浏览和学习，如果您介意的话麻烦您留个言，我马上删除。🤞🙆‍♀️🙆‍♂️</strong>   </li><li><strong>如果您正好浏览到我的网页，那可真是太有缘了，留个言再走鸭鸭鸭。🙄🙄🙄</strong></li></ul><hr><h1 id="关于博客"><a href="#关于博客" class="headerlink" title="关于博客"></a>关于博客</h1><p>本<a href="https://smallbenxiong.github.io/">博客</a>是搭建在<a href="https://github.com/smallbenxiong" target="_blank" rel="noopener">GitHub</a>上使用的静态网页，网页使用了<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>，这让我的博客搭建变得非常快捷，非常美观，而且完美适配手机端浏览。使用的主题为<a href="https://demo.jerryc.me/" target="_blank" rel="noopener">Butterfly</a>。<br>同时这也是一篇介绍功能使用和测试功能的文章，文章持续更新！</p><h1 id="博客使用方法"><a href="#博客使用方法" class="headerlink" title="博客使用方法"></a>博客使用方法</h1><h2 id="格式设置"><a href="#格式设置" class="headerlink" title="格式设置"></a>格式设置</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: （除非特定需要，可以不写）</span><br><span class="line">comments  是否显示评论（除非设置false,可以不写）</span><br><span class="line">cover:  缩略图</span><br><span class="line">toc:  是否显示toc （除非特定文章设置，可以不写）</span><br><span class="line">toc_number: 是否显示toc数字 （除非特定文章设置，可以不写）</span><br><span class="line">copyright: 是否显示版权 （除非特定文章设置，可以不写）</span><br><span class="line">default_cover:</span><br><span class="line">top: </span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="不显示版权"><a href="#不显示版权" class="headerlink" title="不显示版权"></a>不显示版权</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果有文章（例如：转载文章）不需要显示版权，可以在文章Front-matter单独设置</span><br><span class="line">$ copyright: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">文章的markdown文档上,在Front-matter添加cover，并填上要显示的图片地址。</span><br><span class="line">当配置多张图片时，会随机选择一张作为cover。此时写法应为：</span><br><span class="line">default_cover:</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span><br></pre></td></tr></table></figure><h3 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在文章的front-matter区域里添加top: True属性来把这篇文章置顶。</span><br><span class="line">$ top: True</span><br></pre></td></tr></table></figure><h2 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h2><p>搜索系统使用<a href="https://www.algolia.com/" target="_blank" rel="noopener">Algolia</a>，配置参考<a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">hexo-algolia</a>。</p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span>(windows为<span class="built_in">set</span>) HEXO_ALGOLIA_INDEXING_KEY=&#123;your key&#125;</span><br></pre></td></tr></table></figure><h3 id="更新Algolia库"><a href="#更新Algolia库" class="headerlink" title="更新Algolia库"></a>更新Algolia库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo algolia</span><br></pre></td></tr></table></figure><h2 id="音乐设置"><a href="#音乐设置" class="headerlink" title="音乐设置"></a>音乐设置</h2><p>使用<a href="https://github.com/MoePlayer/hexo-tag-aplayer" target="_blank" rel="noopener">hexo-tag-aplayer</a>的MeingJS插件，参考<a href="https://wiki.hushhw.cn/posts/a84d1ef1.html" target="_blank" rel="noopener">aplayer播放器配置</a> 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 单首设置</span><br><span class="line">$ &#123;% meting <span class="string">"3986040"</span> <span class="string">"netease"</span> <span class="string">"song"</span> <span class="string">"theme:#555"</span> <span class="string">"mutex:true"</span> <span class="string">"listmaxheight:340px"</span> <span class="string">"preload:auto"</span> %&#125;</span><br><span class="line">2. 列表设置</span><br><span class="line">$ &#123;% meting <span class="string">"627070825"</span> <span class="string">"netease"</span> <span class="string">"playlist"</span> <span class="string">"theme:#555"</span> <span class="string">"mutex:true"</span> <span class="string">"listmaxheight:340px"</span> <span class="string">"preload:auto"</span> %&#125;</span><br></pre></td></tr></table></figure><h1 id="赞助"><a href="#赞助" class="headerlink" title="赞助"></a>赞助</h1><table><thead><tr><th align="center">用户名</th><th align="center">金额/元</th><th align="center">留言</th></tr></thead><tbody><tr><td align="center">Ben</td><td align="center">99</td><td align="center">Thanks！</td></tr><tr><td align="center">…</td><td align="center">…</td><td align="center">…</td></tr></tbody></table><p>More info: <a href="https://smallbenxiong.github.io/">Ben Blog</a></p>]]></content>
    
    <summary type="html">
    
      博客的使用方法
    
    </summary>
    
    
      <category term="Blog" scheme="https://smallbenxiong.github.io/categories/Blog/"/>
    
    
      <category term="Blog" scheme="https://smallbenxiong.github.io/tags/Blog/"/>
    
  </entry>
  
</feed>
